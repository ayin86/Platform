(function(){var b;var f=300;var o=window.innerWidth;var e=window.innerHeight;var n=100;var m=0;var l=0;var j=150;var d=function(h){return h*Math.PI/1440};var c=function(){return Math.sin(Math.floor(Math.random()*360)*Math.PI/90)};var k=function(r,q,h){return Math.sqrt(Math.pow(q.x-r.x,2)+Math.pow(q.y-r.y,2)+Math.pow(q.z-r.z,2))};var a={obj:{x:m,y:l,z:j},dest:{x:0,y:0,z:1},dist:{x:0,y:0,z:200},ang:{cplane:0,splane:0,ctheta:0,stheta:0},zoom:1,disp:{x:o/2,y:e/2,z:0},upd:function(){a.dist.x=a.dest.x-a.obj.x;a.dist.y=a.dest.y-a.obj.y;a.dist.z=a.dest.z-a.obj.z;a.ang.cplane=-a.dist.z/Math.sqrt(a.dist.x*a.dist.x+a.dist.z*a.dist.z);a.ang.splane=a.dist.x/Math.sqrt(a.dist.x*a.dist.x+a.dist.z*a.dist.z);a.ang.ctheta=Math.sqrt(a.dist.x*a.dist.x+a.dist.z*a.dist.z)/Math.sqrt(a.dist.x*a.dist.x+a.dist.y*a.dist.y+a.dist.z*a.dist.z);a.ang.stheta=-a.dist.y/Math.sqrt(a.dist.x*a.dist.x+a.dist.y*a.dist.y+a.dist.z*a.dist.z)}};var p={parts:{sz:function(q,h){return{x:q.x*h.x,y:q.y*h.y,z:q.z*h.z}},rot:{x:function(q,h){return{x:q.x,y:q.y*Math.cos(d(h.x))-q.z*Math.sin(d(h.x)),z:q.y*Math.sin(d(h.x))+q.z*Math.cos(d(h.x))}},y:function(q,h){return{x:q.x*Math.cos(d(h.y))+q.z*Math.sin(d(h.y)),y:q.y,z:-q.x*Math.sin(d(h.y))+q.z*Math.cos(d(h.y))}},z:function(q,h){return{x:q.x*Math.cos(d(h.z))-q.y*Math.sin(d(h.z)),y:q.x*Math.sin(d(h.z))+q.y*Math.cos(d(h.z)),z:q.z}}},pos:function(h,q){return{x:h.x+q.x,y:h.y+q.y,z:h.z+q.z}}},pov:{plane:function(h){return{x:h.x*a.ang.cplane+h.z*a.ang.splane,y:h.y,z:h.x*-a.ang.splane+h.z*a.ang.cplane}},theta:function(h){return{x:h.x,y:h.y*a.ang.ctheta-h.z*a.ang.stheta,z:h.y*a.ang.stheta+h.z*a.ang.ctheta}},set:function(h){return{x:h.x-a.obj.x,y:h.y-a.obj.y,z:h.z-a.obj.z}}},persp:function(h){return{x:h.x*a.dist.z/h.z*a.zoom,y:h.y*a.dist.z/h.z*a.zoom,z:h.z*a.zoom,p:a.dist.z/h.z}},disp:function(q,h){return{x:q.x+h.x,y:-q.y+h.y,z:q.z+h.z,p:q.p}},steps:function(s,t,q,u,r){var h=p.parts.sz(s,t);h=p.parts.rot.x(h,q);h=p.parts.rot.y(h,q);h=p.parts.rot.z(h,q);h=p.parts.pos(h,u);h=p.pov.plane(h);h=p.pov.theta(h);h=p.pov.set(h);h=p.persp(h);h=p.disp(h,r);return h}};var i=function(h){this.transIn={};this.transOut={};this.transIn.vtx=(h.vtx);this.transIn.sz=(h.sz);this.transIn.rot=(h.rot);this.transIn.pos=(h.pos)};i.prototype.vupd=function(){this.transOut=p.steps(this.transIn.vtx,this.transIn.sz,this.transIn.rot,this.transIn.pos,a.disp)};var g=function(){this.vel=0;this.lim=720;this.diff=400;this.initPos=100;this.toX=m;this.toY=l;this.go()};g.prototype.go=function(){this.canvas=document.getElementById("ani-bg");this.canvas.width=window.innerWidth;this.canvas.height=window.innerHeight;this.$=this.canvas.getContext("2d");this.$.globalCompositeOperation="source-over";this.varr=[];this.dist=[];this.calc=[];for(var q=0,h=f;q<h;q++){this.add()}this.rotObj={x:0,y:0,z:0};this.objSz={x:o/5,y:e/5,z:o/5}};g.prototype.add=function(){this.varr.push(new i({vtx:{x:c(),y:c(),z:c()},sz:{x:0,y:0,z:0},rot:{x:20,y:-20,z:0},pos:{x:this.diff*Math.sin(360*Math.random()*Math.PI/180),y:this.diff*Math.sin(360*Math.random()*Math.PI/180),z:this.diff*Math.sin(360*Math.random()*Math.PI/180)}}));this.calc.push({x:360*Math.random(),y:360*Math.random(),z:360*Math.random()})};g.prototype.upd=function(){a.obj.x+=(this.toX-a.obj.x)*0.05;a.obj.y+=(this.toY-a.obj.y)*0.05};g.prototype.draw=function(){this.$.clearRect(0,0,this.canvas.width,this.canvas.height);a.upd();this.rotObj.x+=0.1;this.rotObj.y+=0.1;this.rotObj.z+=0.1;for(var h=0;h<this.varr.length;h++){for(var r in this.calc[h]){if(this.calc[h].hasOwnProperty(r)){this.calc[h][r]+=this.vel;if(this.calc[h][r]>this.lim){this.calc[h][r]=0}}}this.varr[h].transIn.pos={x:this.diff*Math.cos(this.calc[h].x*Math.PI/180),y:this.diff*Math.sin(this.calc[h].y*Math.PI/180),z:this.diff*Math.sin(this.calc[h].z*Math.PI/180)};this.varr[h].transIn.rot=this.rotObj;this.varr[h].transIn.sz=this.objSz;this.varr[h].vupd();if(this.varr[h].transOut.p<0){continue}var q=this.$.createRadialGradient(this.varr[h].transOut.x,this.varr[h].transOut.y,this.varr[h].transOut.p,this.varr[h].transOut.x,this.varr[h].transOut.y,this.varr[h].transOut.p*2);this.$.globalCompositeOperation="lighter";q.addColorStop(0,"hsla(255, 255%, 255%, 1)");q.addColorStop(0.5,"hsla("+(h+2)+",65%, 40%,1)");q.addColorStop(1,"hsla("+(h)+",65%, 40%,.5)");this.$.fillStyle=q;this.$.beginPath();this.$.arc(this.varr[h].transOut.x,this.varr[h].transOut.y,this.varr[h].transOut.p*2,0,Math.PI*2,false);this.$.fill();this.$.closePath()}};g.prototype.anim=function(){window.requestAnimationFrame=(function(){return window.requestAnimationFrame||function(r,q){window.setTimeout(r,1000/60)}})();var h=function(){this.upd();this.draw();b=window.requestAnimationFrame(h)}.bind(this);b=window.requestAnimationFrame(h)};g.prototype.run=function(){this.anim();window.addEventListener("mousemove",function(h){this.toX=(h.clientX-this.canvas.width/2)*-0.8;this.toY=(h.clientY-this.canvas.height/2)*0.8}.bind(this));window.addEventListener("touchmove",function(h){h.preventDefault();this.toX=(h.touches[0].clientX-this.canvas.width/2)*-0.8;this.toY=(h.touches[0].clientY-this.canvas.height/2)*0.8}.bind(this));window.addEventListener("mousedown",function(q){for(var h=0;h<100;h++){this.add()}}.bind(this));window.addEventListener("touchstart",function(q){q.preventDefault();for(var h=0;h<100;h++){this.add()}}.bind(this))};g.run=function(){var h=new g();h.run()};g.destory=function(){window.cancelAnimationFrame(b)};window.Build=g}());(function(){var c=document.getElementById("ani-bg"),r=c.getContext("2d"),n=c.width=window.innerWidth,k=c.height=window.innerHeight,l=217,d=[],m=0,p=1400;var a=document.createElement("canvas"),j=a.getContext("2d");a.width=100;a.height=100;var q=a.width/2,f=j.createRadialGradient(q,q,0,q,q,q);f.addColorStop(0.025,"#fff");f.addColorStop(0.1,"hsl("+l+", 61%, 33%)");f.addColorStop(0.25,"hsl("+l+", 64%, 6%)");f.addColorStop(1,"transparent");j.fillStyle=f;j.beginPath();j.arc(q,q,q,0,Math.PI*2);j.fill();function e(i,h){if(arguments.length<2){h=i;i=0}if(i>h){var s=h;h=i;i=s}return Math.floor(Math.random()*(h-i+1))+i}var o=function(){this.orbitRadius=e(n/2*2.5);this.radius=e(80,this.orbitRadius)/20;this.orbitX=n/2;this.orbitY=k/2;this.timePassed=e(0,p);this.speed=e(this.orbitRadius)/6000000;this.alpha=e(2,10)/10;m++;d[m]=this};o.prototype.draw=function(){var h=Math.sin(this.timePassed+1)*this.orbitRadius+this.orbitX,s=Math.cos(this.timePassed)*this.orbitRadius/2+this.orbitY,i=e(100);if(i===1&&this.alpha>0){this.alpha-=0.05}else{if(i===2&&this.alpha<1){this.alpha+=0.05}}r.globalAlpha=this.alpha;r.drawImage(a,h-this.radius/2,s-this.radius/2,this.radius,this.radius);this.timePassed+=this.speed};for(var g=0;g<p;g++){new o()}var b;o.run=function(){r.save();r.globalCompositeOperation="source-over";r.globalAlpha=0.8;r.fillStyle="hsla("+l+", 64%, 6%, 1)";r.fillRect(0,0,n,k);r.globalCompositeOperation="lighter";for(var s=1,h=d.length;s<h;s++){d[s].draw()}r.restore();b=window.requestAnimationFrame(o.run)};o.destory=function(){window.cancelAnimationFrame(b)};window.Star=o}());var canvas=document.getElementById("ani-bg");var ctx=canvas.getContext("2d");var target;function clearCanvas(){if(target){target.destory()}ctx.clearRect(0,0,canvas.width,canvas.height)}function aniSwithc(){clearCanvas();if($("html").hasClass("theme-future-stars")){target=Build;target.run()}else{if($("html").hasClass("theme-future-galaxy")){target=Star;target.run()}}}aniSwithc();